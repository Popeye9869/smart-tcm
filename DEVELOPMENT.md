# æ™ºèƒ½ä¸­åŒ»è¯Šç–—ç³»ç»Ÿ - å¼€å‘æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æ™ºèƒ½ä¸­åŒ»è¯Šç–—ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºVue 3 + TypeScriptçš„ç°ä»£åŒ–Webåº”ç”¨ï¼Œé›†æˆAIå¤§æ¨¡å‹æŠ€æœ¯ï¼Œæä¾›æ™ºèƒ½ä¸­åŒ»è¯Šæ–­ã€ä¸ªæ€§åŒ–å¤„æ–¹æ¨èå’Œä¸­åŒ»çŸ¥è¯†åº“æœåŠ¡ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### å‰ç«¯æ¶æ„
```
src/
â”œâ”€â”€ assets/          # é™æ€èµ„æº
â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”œâ”€â”€ locales/         # å›½é™…åŒ–é…ç½®
â”œâ”€â”€ router/          # è·¯ç”±é…ç½®
â”œâ”€â”€ services/        # APIæœåŠ¡å±‚
â”œâ”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/           # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ views/           # é¡µé¢ç»„ä»¶
â””â”€â”€ main.ts          # åº”ç”¨å…¥å£
```

### çŠ¶æ€ç®¡ç†æ¶æ„
- **Pinia Store**: é‡‡ç”¨Piniaè¿›è¡ŒçŠ¶æ€ç®¡ç†
- **æ¨¡å—åŒ–è®¾è®¡**: æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†store
- **æŒä¹…åŒ–å­˜å‚¨**: å…³é”®æ•°æ®æœ¬åœ°å­˜å‚¨

### APIæœåŠ¡æ¶æ„
- **Axioså°è£…**: ç»Ÿä¸€çš„HTTPè¯·æ±‚å¤„ç†
- **æ‹¦æˆªå™¨**: è¯·æ±‚/å“åº”ç»Ÿä¸€å¤„ç†
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ”§ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ
- **TypeScript**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **ESLint**: ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier**: ä»£ç æ ¼å¼åŒ–
- **Vueé£æ ¼æŒ‡å—**: éµå¾ªVueå®˜æ–¹é£æ ¼æŒ‡å—

### æ–‡ä»¶å‘½åè§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶**: PascalCase (å¦‚: `HomeView.vue`)
- **å·¥å…·å‡½æ•°**: camelCase (å¦‚: `formatDate.ts`)
- **ç±»å‹å®šä¹‰**: PascalCase (å¦‚: `TCMTypes.ts`)
- **å¸¸é‡**: UPPER_SNAKE_CASE

### Gitæäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å¼€å‘

### æ™ºèƒ½è¯Šæ–­æ¨¡å—

#### è¯Šæ–­æµç¨‹è®¾è®¡
1. **åŸºæœ¬ä¿¡æ¯é‡‡é›†**
   - æ‚£è€…å§“åã€å¹´é¾„ã€æ€§åˆ«
   - æ—¢å¾€ç—…å²ã€è¿‡æ•å²
   - ä½“è´¨ç±»å‹è¾¨è¯†

2. **ç—‡çŠ¶æè¿°**
   - ä¸»è¦ç—‡çŠ¶é€‰æ‹©
   - ç—‡çŠ¶è¯¦ç»†æè¿°
   - ä¼´éšç—‡çŠ¶è®°å½•
   - è¯±å‘å› ç´ åˆ†æ

3. **å››è¯Šä¿¡æ¯é‡‡é›†**
   - æœ›è¯Šï¼šé¢è‰²ã€èˆŒè±¡ã€èˆŒè‹”
   - é—»è¯Šï¼šå£°éŸ³ã€å‘¼å¸
   - é—®è¯Šï¼šé¥®é£Ÿã€ç¡çœ ã€äºŒä¾¿
   - åˆ‡è¯Šï¼šè„‰è±¡ã€è…¹éƒ¨æ£€æŸ¥

4. **AIæ™ºèƒ½è¯Šæ–­**
   - è°ƒç”¨å¤§æ¨¡å‹API
   - ç—‡çŠ¶åˆ†æä¸è¯å‹è¯†åˆ«
   - ç—…å› ç—…æœºåˆ†æ
   - è¯Šæ–­ä¾æ®æ•´ç†

5. **æ²»ç–—æ–¹æ¡ˆç”Ÿæˆ**
   - ä¸ªæ€§åŒ–å¤„æ–¹æ¨è
   - ç”Ÿæ´»è°ƒæŠ¤å»ºè®®
   - é¢„åè¯„ä¼°
   - å¤è¯Šå»ºè®®

#### å…³é”®ä»£ç å®ç°
```typescript
// è¯Šæ–­çŠ¶æ€ç®¡ç†
const useDiagnosisStore = defineStore('diagnosis', {
  state: () => ({
    currentDiagnosis: null,
    currentPrescription: null,
    medicalRecords: []
  }),
  
  actions: {
    async startDiagnosis(patientInfo: PatientInfo) {
      // è¯Šæ–­é€»è¾‘
    },
    
    async generatePrescription(diagnosis: DiagnosisResponse) {
      // å¤„æ–¹ç”Ÿæˆé€»è¾‘
    }
  }
})
```

### ç—…å†ç®¡ç†æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **å¤šè§†å›¾æ¨¡å¼**: è¡¨æ ¼è§†å›¾å’Œå¡ç‰‡è§†å›¾
- **é«˜çº§æœç´¢**: å¤šæ¡ä»¶ç»„åˆæœç´¢
- **æ‰¹é‡æ“ä½œ**: æ‰¹é‡å¯¼å‡ºã€åˆ é™¤ç­‰
- **è¯¦æƒ…å±•ç¤º**: å®Œæ•´ç—…å†ä¿¡æ¯å±•ç¤º

#### æ•°æ®ç»“æ„è®¾è®¡
```typescript
interface MedicalRecord {
  id: string
  patientName: string
  patientAge: number
  patientGender: string
  diagnosisDate: string
  mainSymptoms: string[]
  diagnosis: string
  prescription: Prescription
  treatmentPlan: TreatmentPlan
  status: RecordStatus
}
```

### çŸ¥è¯†åº“æ¨¡å—

#### å†…å®¹åˆ†ç±»
- **ä¸­è¯æ**: è¯ææ€§å‘³å½’ç»ã€åŠŸæ•ˆä¸»æ²»
- **ç»å…¸æ–¹å‰‚**: å†ä»£åæ–¹ç»„æˆä¸åº”ç”¨
- **è¯Šæ–­æ–¹æ³•**: å››è¯ŠæŠ€å·§ä¸è¾¨è¯è¦ç‚¹
- **ä¸­åŒ»ç†è®º**: åŸºç¡€ç†è®ºä¸ä¸´åºŠåº”ç”¨

#### æœç´¢åŠŸèƒ½
- **å…¨æ–‡æœç´¢**: æ”¯æŒæ ‡é¢˜ã€å†…å®¹æœç´¢
- **åˆ†ç±»ç­›é€‰**: æŒ‰çŸ¥è¯†ç±»å‹ç­›é€‰
- **æ ‡ç­¾æœç´¢**: åŸºäºæ ‡ç­¾çš„ç²¾å‡†æœç´¢
- **çƒ­é—¨æ¨è**: åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½æ¨è

## ğŸ¨ UI/UXè®¾è®¡

### è®¾è®¡åŸåˆ™
- **ä¸­åŒ»ä¸»é¢˜**: ä¼ ç»Ÿä¸­åŒ»æ–‡åŒ–å…ƒç´ 
- **ç°ä»£æ„Ÿ**: ç°ä»£åŒ–çš„ç•Œé¢è®¾è®¡
- **æ˜“ç”¨æ€§**: ç›´è§‚çš„ç”¨æˆ·äº¤äº’
- **å“åº”å¼**: å¤šè®¾å¤‡é€‚é…

### è‰²å½©æ–¹æ¡ˆ
```css
:root {
  --tcm-primary: #8B4513;     /* è¯æ£•è‰² */
  --tcm-secondary: #A0522D;     /* èµ­çŸ³è‰² */
  --tcm-accent: #D2691E;        /* å·§å…‹åŠ›è‰² */
  --tcm-background: #F5E6D3;    /* å®£çº¸è‰² */
  --tcm-surface: #FAF0E6;      /* äºšéº»è‰² */
}
```

### åŠ¨ç”»æ•ˆæœ
- **é¡µé¢è¿‡æ¸¡**: å¹³æ»‘çš„é¡µé¢åˆ‡æ¢åŠ¨ç”»
- **å…ƒç´ åŠ¨ç”»**: å¡ç‰‡hoverã€æŒ‰é’®ç‚¹å‡»ç­‰å¾®äº¤äº’
- **åŠ è½½åŠ¨ç”»**: ä¸­åŒ»ä¸»é¢˜çš„åŠ è½½æ•ˆæœ
- **æ»šåŠ¨åŠ¨ç”»**: æ»šåŠ¨è§¦å‘çš„å…ƒç´ åŠ¨ç”»

## ğŸ”Œ APIé›†æˆ

### AIå¤§æ¨¡å‹é›†æˆ
```typescript
class TCMService {
  private apiKey: string
  private baseURL: string
  
  async diagnose(symptoms: SymptomInfo): Promise<DiagnosisResponse> {
    const prompt = this.buildDiagnosisPrompt(symptoms)
    const response = await this.callLLM(prompt)
    return this.parseDiagnosisResponse(response)
  }
  
  async prescribe(diagnosis: DiagnosisResponse): Promise<PrescriptionResponse> {
    const prompt = this.buildPrescriptionPrompt(diagnosis)
    const response = await this.callLLM(prompt)
    return this.parsePrescriptionResponse(response)
  }
}
```

### é”™è¯¯å¤„ç†æœºåˆ¶
```typescript
// ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
const handleApiError = (error: any) => {
  if (error.response) {
    // æœåŠ¡å™¨å“åº”é”™è¯¯
    ElMessage.error(error.response.data.message || 'æœåŠ¡å™¨é”™è¯¯')
  } else if (error.request) {
    // ç½‘ç»œé”™è¯¯
    ElMessage.error('ç½‘ç»œè¿æ¥å¤±è´¥')
  } else {
    // å…¶ä»–é”™è¯¯
    ElMessage.error('å‘ç”ŸæœªçŸ¥é”™è¯¯')
  }
}
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
- **ç»„ä»¶æµ‹è¯•**: Vueç»„ä»¶åŠŸèƒ½æµ‹è¯•
- **å·¥å…·å‡½æ•°**: å·¥å…·å‡½æ•°é€»è¾‘æµ‹è¯•
- **Storeæµ‹è¯•**: çŠ¶æ€ç®¡ç†é€»è¾‘æµ‹è¯•

### é›†æˆæµ‹è¯•
- **APIæµ‹è¯•**: æ¥å£è°ƒç”¨å’Œå“åº”æµ‹è¯•
- **è·¯ç”±æµ‹è¯•**: é¡µé¢è·³è½¬å’Œæƒé™æµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ä»£ç ä¼˜åŒ–
- **ç»„ä»¶æ‡’åŠ è½½**: è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
- **å›¾ç‰‡ä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©å’ŒWebPæ ¼å¼
- **ç¼“å­˜ç­–ç•¥**: åˆç†çš„ç¼“å­˜é…ç½®

### è¿è¡Œæ—¶ä¼˜åŒ–
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§æ•°æ®åˆ—è¡¨ä¼˜åŒ–
- **é˜²æŠ–èŠ‚æµ**: é«˜é¢‘äº‹ä»¶ä¼˜åŒ–
- **å†…å­˜ç®¡ç†**: é¿å…å†…å­˜æ³„æ¼

## ğŸ”’ å®‰å…¨è€ƒè™‘

### å‰ç«¯å®‰å…¨
- **XSSé˜²æŠ¤**: è¾“å…¥å†…å®¹è½¬ä¹‰
- **CSRFé˜²æŠ¤**: è¯·æ±‚éªŒè¯
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨

### éšç§ä¿æŠ¤
- **æ•°æ®è„±æ•**: ä¸ªäººä¿¡æ¯è„±æ•æ˜¾ç¤º
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **å®¡è®¡æ—¥å¿—**: é‡è¦æ“ä½œè®°å½•

## ğŸ“ˆ éƒ¨ç½²ä¸è¿ç»´

### æ„å»ºé…ç½®
```typescript
// vite.config.ts
export default defineConfig({
  build: {
    target: 'es2015',
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue', 'vue-router', 'pinia'],
          elementPlus: ['element-plus']
        }
      }
    }
  }
})
```

### ç¯å¢ƒé…ç½®
```bash
# .env.development
VITE_API_BASE_URL=http://localhost:3000
VITE_AI_API_KEY=your-api-key

# .env.production
VITE_API_BASE_URL=https://api.smart-tcm.com
VITE_AI_API_KEY=your-production-api-key
```

## ğŸ“š ç›¸å…³èµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [Element Plus å®˜æ–¹æ–‡æ¡£](https://element-plus.org/)
- [Pinia å®˜æ–¹æ–‡æ¡£](https://pinia.vuejs.org/)

### ä¸­åŒ»çŸ¥è¯†èµ„æº
- ã€Šé»„å¸å†…ç»ã€‹
- ã€Šä¼¤å¯’è®ºã€‹
- ã€Šé‡‘åŒ®è¦ç•¥ã€‹
- ã€Šæ¸©ç—…æ¡è¾¨ã€‹

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç å®¡æŸ¥æ ‡å‡†
- ä»£ç è´¨é‡ç¬¦åˆé¡¹ç›®è§„èŒƒ
- åŠŸèƒ½æµ‹è¯•é€šè¿‡
- æ–‡æ¡£æ›´æ–°å®Œæ•´
- æ€§èƒ½å½±å“è¯„ä¼°

---

**ä¼ æ‰¿åƒå¹´ä¸­åŒ»æ™ºæ…§ï¼Œèåˆç°ä»£ç§‘æŠ€åŠ›é‡** ğŸŒ¿âœ¨